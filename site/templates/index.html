<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>VimeArchive</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
		<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="static/css/style.css">
		<link rel="stylesheet" href="static/css/index_style.css">
		<link href="/static/svg/logo.svg" rel="shortcut icon" type="image/x-icon" />
	</head>
	<body>
		<div class="header" id='header'></div>
		<div class="center-div">
			<img src="/static/svg/logo.svg" id="clickable-logo">
			<input type="text" name="nick" placeholder="Поиск игрока..." id="search-user" onchange="document.location.href='player/'+this.value"/>
		</div>
		<a href="https://discord.gg/qEJdZuHydq"><img src="/static/svg/discord-logo.svg" class="discord-logo" target="_blank"></a>
		<canvas id="canvas" width="200" height="200" style="position: absolute; top: 0; left: 0; pointer-events: none; z-index: -1;">
		  This text is displayed if your browser does not support HTML5 Canvas.
		</canvas>
		<div class='site-info'>
			<h2>Информация</h2><br/>
			<h3>Как это работает?</h3><br/>
			<div><span>Система VimeArchive используя <a href="https://vimeworld.github.io/api-docs/">VimeWorld API</a>, считывает, обрабатывает и записывает в свою базу данных все матчи и некоторую дополнительную информацию об игроках. Система находится в тестовом режиме, по этому возможны различные ошибки и пропуски данных, если вы нашли такую ошибку, то напишите нам в <a href="https://discord.gg/qEJdZuHydq">Discord</a>.</span></div><br/>
			<h3>Как пользоваться?</h3><br/>
			<div><span>С сайтом все очень просто, в поисковой строке выше вводите нужный вам ник игрока, затем на открывшейся странице выбираете промежуток времени, за который хотите посмотреть статистику <i>(промежуток должен быть не более 31 дня)</i>. Если вам проще пользоваться Discord ботом, то заходите на наш сервер и используйте, так же вы можете добавить его на свой сервер, воспользовавшись ссылкой-приглашением в профиле бота.</span></div><br/>
			<h3>Предупреждение</h3><br/>
			<div><span>Запись данных началась с 20 марта 2022 г. (20.03.2022). Также в силу отсутствия расширенного лимита на использование VimeWorld API, возможны пропуски данных.</span></div><br/>
		</div>
	</body>
	<script type="text/javascript" src="/static/js/background_effect.js"></script>
	<script>
		var sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay))
		var logo = document.getElementById('clickable-logo');

		logo.addEventListener('click', event => {
			// logo.style.webkitAnimationPlayState = "running";
			logo.style.animation = "logo-tap 0.15s ease-in-out";
			off_anim()
			async function off_anim() {
			    await sleep(150);
			    logo.style.animation = "none";
			};
		});

		const clamp = (num, min, max) => Math.min(Math.max(num, min), max);
		var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;

		chars = ['V', 'i', 'm', 'e', 'A', 'r', 'c', 'h', 'i', 'v', 'e']
    	posY = 200;
    	x = window.innerWidth/2-60;
    	char_pos = [[x-120, posY], [x-85, posY], [x-73, posY], [x-32, posY], [x-4, posY],
    	[x+32, posY],[x+53, posY],[x+79, posY],[x+106, posY],[x+117, posY],[x+145, posY]]
    	char_vel = []
    	for(i = 0; i < chars.length; i++) {
		    velX = 0;
    		velY = getRandomInt(-75, -25)/100.0;
    		char_vel.push([velX, velY])
    	}

		setInterval(function() {
			var width = window.innerWidth;
			var height = window.innerHeight;
			ctx.clearRect(0, 0, width, height);
			draw_effect(ctx);
	    	ctx.fillStyle = "white";
	    	ctx.globalAlpha = 1;
	    	ctx.font = "48px 'Fredoka', sans-serif";
	    	for(i = 0; i < chars.length; i++) {
	    		pos = char_pos[i];
	    		vel = char_vel[i];
	    		pos[0] += vel[0];
	    		pos[1] += vel[1];
	    		vel[0] = lerp(vel[0], 0, 0.01);
	    		vel[1] = lerp(vel[1], 0, 0.01);
	    		ctx.fillText(chars[i], pos[0], pos[1]);
	    	}
		}, 30);
	</script>
	<script type="text/javascript" src="/static/js/utils.js"></script>
	<script type="text/javascript" src="/static/js/test_notify.js"></script>
	<script type="text/javascript" src="/static/js/update.js"></script>
	<script> 
	    $(function(){
	      $("#header").load("/static/html/header.html"); 
	    });
    </script>
</html>